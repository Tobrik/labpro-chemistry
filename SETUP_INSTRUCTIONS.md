# LABPRO - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –¥–µ–ø–ª–æ—é

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ LABPRO —Å –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –¥–µ–ø–ª–æ–µ–º –Ω–∞ Firebase.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-firebase)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ª–æ–∫–∞–ª—å–Ω–æ)
6. [–î–µ–ø–ª–æ–π –Ω–∞ Firebase](#–¥–µ–ø–ª–æ–π-–Ω–∞-firebase)
7. [Post-Deploy –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#post-deploy-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
8. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏](#—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏)

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- **Node.js** –≤–µ—Ä—Å–∏–∏ 20 –∏–ª–∏ –≤—ã—à–µ
- **npm** –∏–ª–∏ **yarn**
- –ê–∫–∫–∞—É–Ω—Ç **Google** –¥–ª—è Firebase
- **Git** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Firebase –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Firebase Console](https://console.firebase.google.com)
2. –ù–∞–∂–º–∏—Ç–µ "Add project" (–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç)
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `labpro-chemistry` (–∏–ª–∏ —Å–≤–æ–µ)
4. –û—Ç–∫–ª—é—á–∏—Ç–µ Google Analytics (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –ù–∞–∂–º–∏—Ç–µ "Create project"

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Firebase Authentication

1. –í Firebase Console, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Sign-in method**
3. –í–∫–ª—é—á–∏—Ç–µ **Email/Password** provider
4. –ù–∞–∂–º–∏—Ç–µ "Save"

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Firestore Database

1. –í Firebase Console, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Firestore Database**
2. –ù–∞–∂–º–∏—Ç–µ "Create database"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º: **Start in production mode**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `europe-west1`)
5. –ù–∞–∂–º–∏—Ç–µ "Enable"

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –í Firebase Console, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Project settings** (–∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏)
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ "Your apps"
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É **Web** (</>)
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–º–µ–Ω–µ–º "LABPRO Web"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `firebaseConfig`

### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/config/firebase.ts` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```typescript
const firebaseConfig = {
  apiKey: "–í–ê–®_API_KEY",
  authDomain: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.firebaseapp.com",
  projectId: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç",
  storageBucket: "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.appspot.com",
  messagingSenderId: "–í–ê–®_MESSAGING_ID",
  appId: "–í–ê–®_APP_ID"
};
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
cd C:\Users\user\Documents\labpro
npm install
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è Cloud Functions

```bash
cd functions
npm install
cd ..
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Firebase CLI

```bash
npm install -g firebase-tools
```

### –í—Ö–æ–¥ –≤ Firebase

```bash
firebase login
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–∞—à Google –∞–∫–∫–∞—É–Ω—Ç.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)

```bash
firebase init
```

**–í—ã–±–µ—Ä–∏—Ç–µ:**
- ‚òë Firestore
- ‚òë Functions
- ‚òë Hosting

**–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:**
- Existing project: –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
- Firestore rules file: `firestore.rules`
- Firestore indexes file: `firestore.indexes.json`
- Functions language: **TypeScript**
- Use ESLint: No
- Install dependencies: Yes
- Public directory: `dist`
- Single-page app: **Yes**
- GitHub deploys: No (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Gemini API –∫–ª—é—á–∞

–ü–æ–ª—É—á–∏—Ç–µ Gemini API –∫–ª—é—á:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google AI Studio](https://aistudio.google.com/app/apikey)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á –≤ Firebase Functions:

```bash
firebase functions:config:set gemini.api_key="–í–ê–®_GEMINI_API_KEY"
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
firebase functions:config:get
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .firebaserc

–û—Ç–∫—Ä–æ–π—Ç–µ `.firebaserc` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–º —É–∫–∞–∑–∞–Ω –≤–∞—à –ø—Ä–æ–µ–∫—Ç:

```json
{
  "projects": {
    "default": "–≤–∞—à-project-id"
  }
}
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:3000` (–∏–ª–∏ `5173`).

### –ó–∞–ø—É—Å–∫ Firebase Emulators (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Cloud Functions –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
firebase emulators:start
```

---

## –î–µ–ø–ª–æ–π –Ω–∞ Firebase

### –®–∞–≥ 1: –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
npm run build
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–∞–ø–∫–∞ `dist` —Å–æ–∑–¥–∞–Ω–∞.

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π Firestore Rules

```bash
firebase deploy --only firestore:rules
firebase deploy --only firestore:indexes
```

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π Cloud Functions

```bash
firebase deploy --only functions
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-10 –º–∏–Ω—É—Ç.

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π Hosting

```bash
firebase deploy --only hosting
```

### –®–∞–≥ 5: –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (–≤—Å–µ —Å—Ä–∞–∑—É)

```bash
firebase deploy
```

---

## Post-Deploy –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∞—à —Å–∞–π—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://labpro-chemistry.web.app`)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å email/password
3. –í Firebase Console, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **UID** –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Firestore Database**
6. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é `users` ‚Üí –≤–∞—à –¥–æ–∫—É–º–µ–Ω—Ç (UID)
7. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª–µ `role` —Å `"user"` –Ω–∞ `"admin"`

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å AI –¥–µ—Ç–∞–ª—è–º–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –£—Ä–∞–≤–Ω–∏—Ç–µ–ª—å
   - –¢—Ä–µ–Ω–∞–∂–µ—Ä
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (–∏–∫–æ–Ω–∫–∞ –≤ header)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–¥–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å –¥–∞–Ω–Ω—ã–º–∏

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. –í Firebase Console, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Functions**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π (Cloud Logs)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ budget alerts:
   - Google Cloud Console ‚Üí Billing ‚Üí Budgets & alerts
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–∏–º–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, $10/–º–µ—Å—è—Ü)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é (—á–∞—Å—Ç–∏—á–Ω–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):

#### ‚ùå **src/services/gemini.ts** - –ö–†–ò–¢–ò–ß–ù–û
–ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã Gemini API –Ω–∞ –≤—ã–∑–æ–≤—ã backend endpoints.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ (—É–¥–∞–ª–∏—Ç—å):**
```typescript
const genAI = new GoogleGenAI(API_KEY);
const response = await genAI.models.generateContent(...);
```

**–ù–æ–≤—ã–π –∫–æ–¥ (–¥–æ–±–∞–≤–∏—Ç—å):**
```typescript
const token = await auth.currentUser?.getIdToken();
const response = await fetch('/api/gemini/element-details', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({ elementName })
});
const data = await response.json();
```

#### ‚ùå **src/components/Trainer.tsx** - –ö–†–ò–¢–ò–ß–ù–û
–ó–∞–º–µ–Ω–∏—Ç—å localStorage –Ω–∞ backend API.

**–£–¥–∞–ª–∏—Ç—å (—Å—Ç—Ä–æ–∫–∏ 24, 36):**
```typescript
const savedXp = localStorage.getItem('chem_xp');
localStorage.setItem('chem_xp', newScore.toString());
```

**–î–æ–±–∞–≤–∏—Ç—å:**
```typescript
// –í –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const { token } = useAuth();

// –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
const loadProgress = async () => {
  const response = await fetch('/api/progress', {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  const data = await response.json();
  setScore(data.xp);
  setLevel(data.level);
};

// –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è XP
const updateProgress = async (xpGained, mode, correct) => {
  const response = await fetch('/api/progress/xp', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({
      xpGained,
      mode,
      correctAnswers: correct ? 1 : 0,
      totalQuestions: 1
    })
  });
  const data = await response.json();
  setScore(data.newXp);
  setLevel(data.newLevel);
};
```

#### ‚ùå **vite.config.ts** - –ö–†–ò–¢–ò–ß–ù–û (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
–£–¥–∞–ª–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç API –∫–ª—é—á–∞.

**–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 14-15:**
```typescript
'process.env.API_KEY': JSON.stringify(process.env.GEMINI_API_KEY),
'process.env.GEMINI_API_KEY': JSON.stringify(process.env.GEMINI_API_KEY),
```

#### ‚ùå **src/App.tsx** - –ö–†–ò–¢–ò–ß–ù–û
–î–æ–±–∞–≤–∏—Ç—å AuthProvider.

**–û–±–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```typescript
import { AuthProvider, useAuth } from './context/AuthContext';
import AuthModal from './components/AuthModal';

function App() {
  return (
    <AuthProvider>
      <AppContent />
    </AuthProvider>
  );
}

function AppContent() {
  const { user, loading } = useAuth();
  const [showAuthModal, setShowAuthModal] = useState(false);

  if (loading) {
    return <div className="flex items-center justify-center min-h-screen">
      <div className="text-xl">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>;
  }

  return (
    <>
      {!user && <AuthModal isOpen={!user} onClose={() => {}} />}
      {/* existing app content */}
    </>
  );
}
```

#### üîÑ **src/components/AdminPanel.tsx** - –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ
–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–∫-–¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ø–ª–∞–Ω–µ).

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Playwright (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
npm install -D @playwright/test
npx playwright install chromium
```

#### –°–æ–∑–¥–∞–Ω–∏–µ playwright.config.ts:
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –ø–ª–∞–Ω–∞ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é
```

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm run test:e2e
```

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è localStorage

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:

```typescript
// src/services/migration.ts
export const migrateLocalStorageToBackend = async (token: string) => {
  const localXP = localStorage.getItem('chem_xp');
  if (!localXP) return;

  const response = await fetch('/api/progress/migrate', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({ xp: parseInt(localXP) })
  });

  if (response.ok) {
    localStorage.removeItem('chem_xp');
    alert('–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –æ–±–ª–∞–∫–µ!');
  }
};
```

–í—ã–∑–æ–≤–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ AuthContext –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞.

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Firebase
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
firebase functions:log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
firebase functions:config:get

# –£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
firebase functions:delete FUNCTION_NAME

# –û—Ç–∫—Ä—ã—Ç—å Firebase Console
firebase open
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production build
npm run preview
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
npm run test:e2e

# UI —Ä–µ–∂–∏–º Playwright
npm run test:e2e:ui

# Debug —Ä–µ–∂–∏–º
npm run test:e2e:debug
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ `allowedOrigins` –≤ `functions/src/index.ts`.

### –ü—Ä–æ–±–ª–µ–º–∞: API –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `firebase functions:config:get`

### –ü—Ä–æ–±–ª–µ–º–∞: Firestore permission denied
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `firestore.rules` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã.

### –ü—Ä–æ–±–ª–µ–º–∞: Functions –¥–µ–ø–ª–æ–π failed
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `firebase functions:log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js –≤–µ—Ä—Å–∏–∏ 20
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ `functions/`

---

## –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–ü—Ä–∏ 100-1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–º–µ—Å—è—Ü:

- **Firestore:** $0-25/–º–µ—Å
- **Cloud Functions:** $0-50/–º–µ—Å
- **Hosting:** $0 (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö free tier)
- **Gemini API:** $0-100/–º–µ—Å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

**–ò—Ç–æ–≥–æ:** ~$0-175/–º–µ—Å

Firebase Free Tier –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –¥–ª—è –º–∞–ª—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **Firebase Documentation:** https://firebase.google.com/docs
- **Gemini API Documentation:** https://ai.google.dev/docs
- **Playwright Documentation:** https://playwright.dev

---

**–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**
